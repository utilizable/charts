additionalArguments:
  - "--api.dashboard=true"
  - "--log.level=debug"
  - "--providers.kubernetescrd"
  
  - "--entrypoints.web.address=:8000"
  - "--entrypoints.web.http.redirections.entrypoint.to=websecure"
  - "--entrypoints.web.http.redirections.entrypoint.scheme=https"
  - "--entrypoints.web.http.redirections.entrypoint.permanent=true"
  
  - "--certificatesresolvers.letsencrypt.acme.dnschallenge=true"
  - "--certificatesresolvers.letsencrypt.acme.dnschallenge.provider=ovh"
  - "--certificatesresolvers.letsencrypt.acme.tlschallenge=true"
  - "--certificatesresolvers.letsencrypt.acme.email=konta@disroot.org"
  - "--certificatesresolvers.letsencrypt.acme.caserver=https://acme-staging-v02.api.letsencrypt.org/directory"
  - "--certificatesresolvers.letsencrypt.acme.storage=acme.json"
  
  - "--entrypoints.websecure.address=:8443"
  - "--entrypoints.websecure.http.tls=true"
  - "--entrypoints.websecure.http.tls.certResolver=letsencrypt"
  - "--entrypoints.websecure.http.tls.domains[0].main=anykey.pl"
  - "--entrypoints.websecure.http.tls.domains[0].sans=*.anykey.pl"

env:
  - name: OVH_ENDPOINT
    value: "ovh-eu"
  - name: OVH_APPLICATION_KEY
    valueFrom:
      secretKeyRef:
        name: ovh-secrets
        key: applicationKey
  - name: OVH_APPLICATION_SECRET
    valueFrom:
      secretKeyRef:
        name: ovh-secrets
        key: applicationSecret
  - name: OVH_CONSUMER_KEY
    valueFrom:
      secretKeyRef:
        name: ovh-secrets
        key: consumerKey
        
#certResolvers:
#  letsencrypt:
#    email: "konta@disroot.org"
#    #caServer: https://acme-v02.api.letsencrypt.org/directory # Production server
#    caServer: https://acme-staging-v02.api.letsencrypt.org/directory # Staging server
#    dnsChallenge:
#      provider: ovh
#    storage: acme.json
    
#ports:
#  web:
#    redirectTo: 
#      port: websecure
#  websecure:
#    tls:
#      enabled: true
#      certResolver: myresolver

#ingressRoute:
#  dashboard:
#    enabled: true
#    domain: "dashboard.anykey.pl"
